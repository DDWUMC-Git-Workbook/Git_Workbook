# week1 데이터베이스 개념 정리

## 외래 키 (Foreign Key)

FK는 다른 테이블의 PK를 참조한다.

### 속성
- **참조 무결성을 유지해야 함.**

📌 **회원(Users) 테이블**

| user_id (PK) | name  |
|-------------|------|
| 1          | Alice |
| 2          | Bob  |

📌 **주문(Orders) 테이블**

| order_id (PK) | user_id (FK) | product |
|--------------|-------------|---------|
| 101         | 1           | Laptop  |
| 102         | 2           | Phone   |

- `Orders.user_id`는 `Users.user_id`를 참조하는 **외래 키**이다.
- **참조 무결성**이 적용되면:
  - `Orders` 테이블의 `user_id`에 없는 값(예: `user_id = 3`)을 삽입할 수 없음.
  - `Users` 테이블에서 `user_id = 1`을 삭제하려면 먼저 `Orders`에서 해당 데이터를 삭제해야 함.

- **NULL을 가질 수도 있음** (제약 조건에 따라 다름)

### 장점
- 데이터 무결성을 유지함.
- 테이블 간 관계를 명확하게 설정할 수 있음.

### 단점
- 삽입 및 삭제 시 제약 조건을 신경 써야 함.
- 성능 저하가 발생할 수 있음.

---

## 기본 키 (Primary Key)

테이블에서 고유하게 식별하는 속성.

### 속성
- 반드시 **고유(unique)하고 NOT NULL** 이어야 함.
- 한 테이블에 하나만 존재할 수 있음.

### 장점
- 데이터 무결성을 보장함.
- 검색 및 조회 속도가 빠름.

### 단점
- 잘못된 기본 키 설정 시 테이블 설계가 복잡해질 수 있음.

---

## ER 다이어그램 (Entity-Relationship Diagram)

데이터베이스 설계 시, 엔티티(개체), 속성, 관계를 시각적으로 표현하는 다이어그램.

### 속성
- **엔티티(Entity)**: 사물이나 개념을 나타냄 (예: 고객, 주문)
- **관계(Relationship)**: 엔티티 간의 연결 표현 (예: 고객 - 주문)
- **속성(Attribute)**: 엔티티의 특징 (예: 고객의 이름, 나이)

### 장점
- 복잡한 데이터 구조를 쉽게 이해할 수 있음.
- 관계를 명확히 정의하여 데이터 무결성을 확보할 수 있음.

### 단점
- 대규모 데이터베이스 설계 시 복잡해질 수 있음.

---

## 복합 키 (Composite Key)

두 개 이상의 열을 조합하여 기본 키로 사용하는 것.

### 속성
- 단일 속성으로는 유일성을 보장할 수 없을 때 사용.
- 외래 키로 활용될 수 있음.

### 장점
- 다대다 관계를 해결할 때 유용함.

### 단점
- 관리가 어려울 수 있음.
- 복잡한 쿼리가 필요할 수 있음.

---

## 연관 관계 (Relationships)

데이터베이스에서 테이블 간의 연결.

### 유형
- **1:1 관계 (One-to-One)**  
  예) 한 사람당 하나의 여권만 가짐.
- **1:N 관계 (One-to-Many)**  
  예) 한 고객이 여러 개의 주문을 할 수 있음.
- **M:N 관계 (Many-to-Many)**  
  예) 학생과 강의 (한 학생이 여러 강의를 듣고, 한 강의에 여러 학생이 등록됨).

### 장점
- 데이터의 중복을 줄이고 무결성을 보장함.

### 단점
- 복잡한 관계에서는 쿼리가 어려워질 수 있음.

---

## 정규화 (Normalization)

[정보처리 실기_데이터베이스06강_정규화](https://youtu.be/RXQ1kZ_JHqg?si=f0OPsoOWnJXSbqca)

데이터 중복을 줄이고, 무결성을 유지하기 위해 테이블을 분해하는 과정.

### 단계
1. **1NF (제1 정규형)**: 컬럼이 원자값을 가져야 함.
2. **2NF (제2 정규형)**: 1NF + 부분적 종속 제거.
3. **3NF (제3 정규형)**: 2NF + 이행적 종속 제거.
4. **BCNF (보이스-코드 정규형)**: 후보 키를 더 엄격하게 관리.

### 장점
- 데이터 중복 감소.
- 데이터 무결성 유지.

### 단점
- 테이블이 많아져 조인 비용 증가.
- 성능 저하 가능.

---

## 반 정규화 (Denormalization)

성능 향상을 위해 정규화를 일부 해제.

### 방법
- 테이블 병합.
- 중복 데이터 허용.

### 장점
- 조회 성능 향상.
- 복잡한 조인을 줄일 수 있음.

### 단점
- 데이터 중복으로 인한 관리 부담.
- 무결성 유지가 어려워질 수 있음.